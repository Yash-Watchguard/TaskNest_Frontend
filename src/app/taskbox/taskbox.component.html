<div
  class="task-card"
  [ngClass]="{
    'in-pending': task.TaskStatus === TaskStatus.Pending,
    'in-done': task.TaskStatus === TaskStatus.Done,
    'in-progress': task.TaskStatus === TaskStatus.InProgress
  }"
  (click)="onclick($event)"
>  
<div class="top">
  <div class="header">
    <h2 class="title">{{ task.Title }}</h2>
  </div>
  <div class="action" style="display: flex;gap: 20px;">
    <button class="delete" style="border-radius: 6px; background-color:purple;"><i class="pi pi-trash" style="color: red !important;width: 30px;border-radius:6px;"></i></button>
    <button class="comment"><i class="pi pi-comment" style="color: purple !important;width: 30px;"></i></button>
  </div>
</div>
  
  <p class="description">{{ task.Description }}</p>
  <div class="details">
    <span
      class="status"
      [ngClass]="{
        progress: task.TaskStatus === TaskStatus.InProgress,
        pending: task.TaskStatus === TaskStatus.Pending,
        done: task.TaskStatus === TaskStatus.Done
      }"
      >{{ task.TaskStatus }}</span
    >
    <span class="project">Project: {{ task.ProjectId }}</span>
  </div>
  <p
    *ngIf="
      task.TaskStatus == TaskStatus.Pending ||
      task.TaskStatus == TaskStatus.InProgress
    "
    class="due-date"
    [ngClass]="{ overdue: isOverdue(task.Deadline) }"
  >
    Due: {{ task.Deadline | date : "dd/MM/yyyy" }}
  </p>
  <div class="actions" *ngIf="user?.Role===2">
    <button
      *ngIf="task.TaskStatus === TaskStatus.Pending"
      class="start-button"
      (click)="onStart()"
    >
      Start
    </button>
    <button
      *ngIf="task.TaskStatus === TaskStatus.InProgress"
      class="complete-button"
      (click)="onComplete()"
    >
      Complete
    </button>

    <!-- <i (click)="opencomment()" class="material-icons">chat-bubble</i> -->
  </div>
</div>
<router-outlet></router-outlet>
